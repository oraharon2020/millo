-- Create FAQs table
CREATE TABLE IF NOT EXISTS faqs (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  question TEXT NOT NULL,
  answer TEXT NOT NULL,
  category TEXT DEFAULT 'כללי',
  display_order INTEGER DEFAULT 0,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Insert sample FAQs
INSERT INTO faqs (question, answer, category, display_order) VALUES
('כמה זמן לוקח תהליך תכנון ובניית מטבח?', 
 'תהליך תכנון ובניית מטבח בדרך כלל לוקח בין 6-12 שבועות, תלוי במורכבות הפרויקט ובחומרים שנבחרו. התהליך כולל פגישת ייעוץ ראשונית, תכנון מפורט, אישור התכנון, הזמנת החומרים, ייצור והתקנה.',
 'תהליך עבודה', 1),

('האם אתם מציעים אחריות על המטבחים?',
 'כן, אנו מציעים אחריות מלאה למשך שנה על כל עבודות הנגרות וההתקנה. בנוסף, יש אחריות יצרן על המוצרים האלקטרוניים והאביזרים לפי תנאי היצרן.',
 'אחריות ושירות', 2),

('איזה סוגי חומרים אתם משתמשים במטבחים?',
 'אנו עובדים עם מגוון רחב של חומרים איכוtiים - משטחי קוריאן, קיסר, גרניט וקוורץ, דלתות MDF בציפויים שונים, פורמייקה, אקרילק, לכה וצבע. כל חומר נבחר בקפידה לפי דרישות הלקוח והתקציב.',
 'חומרים ועיצוב', 3),

('מה כלול במחיר המטבח?',
 'המחיר כולל תכנון מפורט, כל עבודות הנגרות, ארונות עליונים ותחתונים, משטח עבודה, כיור, ברזים, מערכת תאורה, ידיות ואביזרים, התקנה מקצועית ופינוי פסולת. מוצרי חשמל ומכשירים אינם כלולים.',
 'מחיר ותשלום', 4),

('האם ניתן לראות דוגמאות של עבודות קודמות?',
 'בהחלט! יש לנו תיק עבודות עשיר ושואו-רום בו ניתן לראות מטבחים שונים שביצענו. בנוסף, ניתן לתאם ביקור בבית לקוח קודם (בתיאום מראש) כדי לראות את התוצאה הסופית בשטח.',
 'כללי', 5),

('האם אתם מבצעים שיפוצים נלווים?',
 'אנו מתמחים בעיצוב ובניית מטבחים, אך אנו עובדים עם קבלנים ובעלי מקצוע מומלצים לעבודות אינסטלציה, חשמל, ריצוף וצביעה. נוכל לתאם עבורכם את כל הספקים הנדרשים.',
 'תהליך עבודה', 6),

('מה ההבדל בין מטבח לפי מידה למטבח סטנדרטי?',
 'מטבח לפי מידה מתוכנן במיוחד עבור החלל שלכם, תוך התחשבות בכל פינה ומידה, ומאפשר ניצול מקסימלי של השטח. בנוסף, תוכלו לבחור בדיוק את החומרים, הצבעים, הידיות והאביזרים שמתאימים לסגנון שלכם.',
 'חומרים ועיצוב', 7),

('איך מתחילים את התהליך?',
 'התהליך מתחיל בפגישת ייעוץ ללא עלות בה נכיר את הצרכים והחלומות שלכם, נמדוד את החלל ונציג רעיונות ראשוניים. לאחר מכן נכין הצעת מחיר מפורטת ותכנון תלת-ממדי של המטבח.',
 'תהליך עבודה', 8);

-- Enable Row Level Security
ALTER TABLE faqs ENABLE ROW LEVEL SECURITY;

-- Allow public read access
CREATE POLICY "Allow public read access" ON faqs
  FOR SELECT
  USING (is_active = true);

-- Allow authenticated update (adjust as needed)
CREATE POLICY "Allow authenticated update" ON faqs
  FOR ALL
  USING (true);
